<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Estado Rendatario</title>
</head>
<body>
    <div class="flex flex-row gap-6 h-full items-stretch">

        <div class="flex flex-col w-1/2 gap-6">
            <div class="glass-panel p-6 rounded-xl shadow-lg flex-shrink-0">
                <h2 class="text-xl font-semibold text-white mb-4 text-center">Listado de Residentes</h2>
                <input type="text" id="residentSearchInput" placeholder="Buscar por Nombre o RUT..." class="input-field w-full" autocomplete="off">
                <div class="mt-4 p-3 bg-gray-900 bg-opacity-30 rounded-lg">
                    <h3 class="text-sm font-bold text-white text-center mb-2">Información del Día</h3>
                    <div class="flex justify-around text-center">
                        <div>
                            <p class="text-xs text-gray-400 uppercase">Fecha</p>
                            <p id="current-date-display" class="font-semibold text-white">-</p>
                        </div>
                        <div>
                            <p class="text-xs text-gray-400 uppercase">Valor UF</p>
                            <p id="current-uf-display" class="font-semibold text-white">-</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="glass-panel rounded-xl shadow-lg flex-grow flex flex-col overflow-hidden">
                <div class="overflow-auto h-full">
                    <table class="min-w-full divide-y divide-gray-700">
                        <thead class="bg-gray-800 bg-opacity-50 sticky top-0">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase cursor-pointer hover:bg-gray-700" onclick="sortResidents('nombre_completo')">Nombre / RUT <i class="fas fa-sort ml-2"></i></th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase cursor-pointer hover:bg-gray-700" onclick="sortResidents('nombre_contrato')">Contrato <i class="fas fa-sort ml-2"></i></th>
                                <th class="px-6 py-3 text-center text-xs font-medium text-gray-300 uppercase w-24">Día Pago</th>
                                <th class="px-6 py-3 text-center text-xs font-medium text-gray-300 uppercase cursor-pointer hover:bg-gray-700 w-24" onclick="sortResidents('dias_atraso')">Días Atraso <i class="fas fa-sort ml-2"></i></th>
                                <th class="px-6 py-3 text-center text-xs font-medium text-gray-300 uppercase cursor-pointer hover:bg-gray-700" onclick="sortResidents('estado')">Estado <i class="fas fa-sort ml-2"></i></th>
                            </tr>
                        </thead>
                        <tbody id="residentes-list-body" class="divide-y divide-gray-700 text-gray-200">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div id="payment-container" class="flex w-1/2">
            <div class="glass-panel p-6 rounded-xl shadow-lg h-full w-full flex flex-col">
                <div id="payment-details-wrapper" class="hidden h-full w-full flex flex-col">
                    <div id="payment-details-header" class="flex-shrink-0"></div>
                    <div id="payment-details-list" class="flex-grow overflow-y-auto my-4 pr-2 space-y-3"></div>
                    <div id="payment-details-footer" class="flex-shrink-0 pt-4 border-t border-gray-700"></div>
                </div>
                <div id="payment-placeholder" class="h-full flex flex-col justify-center items-center text-center text-gray-400">
                    <i class="fas fa-hand-pointer fa-3x mb-4"></i>
                    <p>Seleccione un residente de la lista para gestionar sus pagos.</p>
                </div>
            </div>
        </div>

    </div>
    <script>
        initEstadoView();
    </script>
</body>
</html>